#!/bin/bash -e

# Docker super prune

read -p "Are you sure? (y/n) " -n 1 -r
echo # move to a new line
if [[ $REPLY =~ ^[Yy]$ ]]; then
    set -x
    # docker network prune -f
    # docker images --filter dangling=true -qa | xargs docker rmi -f
    # docker volume ls --filter dangling=true -q | xargs docker volume rm
    # docker images -qa | xargs docker rmi -f

    docker system prune --all --volumes --force

fi
