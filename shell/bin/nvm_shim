#!/bin/sh

# Remove nvm/npm/node shims path from $PATH
shim_path=$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" &>/dev/null && pwd)
new_path=$(sed "s:$shim_path::g" <<<$PATH)

export PATH=$new_path
export NVM_DIR=$HOME/.nvm

#Per-platform settings
case `uname` in
    Darwin)
        . $(brew --prefix)/opt/nvm/nvm.sh

    ;;
    Linux)
        . "$NVM_DIR/nvm.sh"

    ;;
    *)
esac

# Now, nvm, npm and node can be executed with any args, like:
# `nvm_shim npm --version`
"$@"
